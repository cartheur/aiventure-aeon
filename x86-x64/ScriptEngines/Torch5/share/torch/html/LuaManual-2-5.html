<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>

  Expressions
</title>
<link href="doctorch.css" rel="stylesheet" type="text/css">
</head>

<body class="torchdoc">
<div id="container">

<div id="header">
<h3>
  Expressions</h3>
</div>

<div id="navline">
<a href="index.html">Torch Manual</a>&nbsp; > &nbsp; <a href="LuaManual.html">
Lua 5.1 Reference Manual</a>&nbsp; > &nbsp; <a href="LuaManual-2.html">
  The Language</a>&nbsp; > &nbsp; <b>
  Expressions</b>
</div>

<div id="contents">
<a name="Expressions"></a>

<p>

<p>

<p>

 The basic expressions in Lua are the following:
<pre>
	exp ::= prefixexp
	exp ::= *nil* | *false* | *true*
	exp ::= Number
	exp ::= String
	exp ::= function
	exp ::= tableconstructor
	exp ::= `*...*`
	exp ::= exp binop exp
	exp ::= unop exp
	prefixexp ::= var | functioncall | `*(*` exp `*)*`
</pre>
<p>

<p>

 Numbers and literal strings are explained in <a href="LuaManual-2-1.html#LexicalConventions">Lexical Conventions</a>; variables are explained in <a href="LuaManual-2-3.html#Variables">Variables</a>; function definitions are explained in <a href="LuaManual-2-5-9.html#FunctionDefinitions">Function Definitions</a>; function calls are explained in <a href="LuaManual-2-5-8.html#FunctionCalls">Function Calls</a>; table constructors are explained in <a href="LuaManual-2-5-7.html#TableConstructors">Table Constructors</a>. Vararg expressions, denoted by three dots ('=...='), can only be used inside vararg functions; they are explained in <a href="LuaManual-2-5-9.html#FunctionDefinitions">Function Definitions</a>.   
<p>

 Binary operators comprise arithmetic operators (see <a href="LuaManual-2-5-1.html#ArithmeticOperators">Arithmetic Operators</a>), relational operators (see <a href="LuaManual-2-5-2.html#RelationalOperators">Relational Operators</a>), logical operators (see <a href="LuaManual-2-5-3.html#LogicalOperators">Logical Operators</a>), and the concatenation operator (see <a href="LuaManual-2-5-4.html#Concatenation">Concatenation</a>). Unary operators comprise the unary minus (see <a href="LuaManual-2-5-1.html#ArithmeticOperators">Arithmetic Operators</a>), the unary <b>not</b> (see <a href="LuaManual-2-5-3.html#LogicalOperators">Logical Operators</a>), and the unary <i>length operator</i> (see <a href="LuaManual-2-5-5.html#TheLengthOperator">The Length Operator</a>).   
<p>

 Both function calls and vararg expressions may result in multiple values. If the expression is used as a statement (see <a href="LuaManual-2-4-6.html#FunctionCallsasStatements">Function Calls as Statements</a>) (only possible for function calls), then its return list is adjusted to zero elements, thus discarding all returned values. If the expression is used as the last (or the only) element of a list of expressions, then no adjustment is made (unless the call is enclosed in parentheses). In all other contexts, Lua adjusts the result list to one element, discarding all values except the first one.   
<p>

 Here are some examples:
<pre>
     f()                -- adjusted to 0 results
     g(f(), x)          -- f() is adjusted to 1 result
     g(x, f())          -- g gets x plus all results from f()
     a,b,c = f(), x     -- f() is adjusted to 1 result (c gets nil)
     a,b = ...          -- a gets the first vararg parameter, b gets
                        -- the second (both a and b may get nil if there
                        -- is no corresponding vararg parameter)
     
     a,b,c = x, f()     -- f() is adjusted to 2 results
     a,b,c = f()        -- f() is adjusted to 3 results
     return f()         -- returns all results from f()
     return ...         -- returns all received vararg parameters
     return x,y,f()     -- returns x, y, and all results from f()
     {f()}              -- creates a list with all results from f()
     {...}              -- creates a list with all vararg parameters
     {f(), nil}         -- f() is adjusted to 1 result
</pre>
<p>

<p>

 An expression enclosed in parentheses always results in only one value. Thus, <code>(f(x,y,z))</code> is always a single value, even if <code>f</code> returns several values. (The value of <code>(f(x,y,z))</code> is the first value returned by <code>f</code> or <b>nil</b> if <code>f</code> does not return any values.)    
</div>

<div id="subsections">
<h3>Subsections</h3>
<ol>
<li><a href="LuaManual-2-5-1.html">
  Arithmetic Operators</a></li>
<li><a href="LuaManual-2-5-2.html">
  Relational Operators</a></li>
<li><a href="LuaManual-2-5-3.html">
  Logical Operators</a></li>
<li><a href="LuaManual-2-5-4.html">
  Concatenation</a></li>
<li><a href="LuaManual-2-5-5.html">
  The Length Operator</a></li>
<li><a href="LuaManual-2-5-6.html">
  Precedence</a></li>
<li><a href="LuaManual-2-5-7.html">
  Table Constructors</a></li>
<li><a href="LuaManual-2-5-8.html">
  Function Calls</a></li>
<li><a href="LuaManual-2-5-9.html">
  Function Definitions</a></li>
</ol>

</div>

<div id="footer-left">&nbsp;<a href="LuaManual-2-4.html">
  Statements</a></div>
<div id="footer-right"><a href="LuaManual-2-6.html">
  Visibility Rules</a>&nbsp;</div>

<div id="last-modified">

</div>

</div>
</body>
</html>
