<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>

 debug.sethook ([thread,] hook, mask [, count])
</title>
<link href="doctorch.css" rel="stylesheet" type="text/css">
</head>

<body class="torchdoc">
<div id="container">

<div id="header">
<h3>
 debug.sethook ([thread,] hook, mask [, count])</h3>
</div>

<div id="navline">
<a href="index.html">Torch Manual</a>&nbsp; > &nbsp; <a href="LuaManual.html">
Lua 5.1 Reference Manual</a>&nbsp; > &nbsp; <a href="LuaManual-5.html">
  Standard Libraries</a>&nbsp; > &nbsp; <a href="LuaManual-5-9.html">
  The Debug Library</a>&nbsp; > &nbsp; <b>
 <code>debug.sethook ([thread,] hook, mask [, count])</code></b>
</div>

<div id="contents">
<a name="debugsethookthreadhookmaskcount"></a>

<p>

<p>

<p>

 Sets the given function as a hook. The string <code>mask</code> and the number <code>count</code> describe when the hook will be called. The string mask may have the following characters, with the given meaning:   
<ul><li><b><code>"c"</code>:</b> The hook is called every time Lua calls a function; 
</li><li><b><code>"r"</code>:</b> The hook is called every time Lua returns from a function; 
</li><li><b><code>"l"</code>:</b> The hook is called every time Lua enters a new line of code. 
</li></ul><p>

 With a <code>count</code> different from zero, the hook is called after every <code>count</code> instructions.   
<p>

 When called without arguments, <a href="LuaManual-5-9-10.html#debugsethookthreadhookmaskcount"><code>debug.sethook ([thread,] hook, mask [, count])</code></a> turns off the hook.   
<p>

 When the hook is called, its first parameter is a string describing the event that has triggered its call: <code>"call"</code>, <code>"return"</code> (or <code>"tail return"</code>), <code>"line"</code>, and <code>"count"</code>. For line events, the hook also gets the new line number as its second parameter. Inside a hook, you can call <code>getinfo</code> with level 2 to get more information about the running function (level 0 is the <code>getinfo</code> function, and level 1 is the hook function), unless the event is <code>"tail return"</code>. In this case, Lua is only simulating the return, and a call to <code>getinfo</code> will return invalid data.     
<p>

<p>

<hr>
<p>

</div>



<div id="footer-left">&nbsp;<a href="LuaManual-5-9-9.html">
 <code>debug.setfenv (object, table)</code></a></div>
<div id="footer-right"><a href="LuaManual-5-9-11.html">
 <code>debug.setlocal ([thread,] level, local, value)</code></a>&nbsp;</div>

<div id="last-modified">

</div>

</div>
</body>
</html>
