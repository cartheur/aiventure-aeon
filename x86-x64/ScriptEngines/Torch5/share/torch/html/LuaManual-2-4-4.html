<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>

  Control Structures
</title>
<link href="doctorch.css" rel="stylesheet" type="text/css">
</head>

<body class="torchdoc">
<div id="container">

<div id="header">
<h3>
  Control Structures</h3>
</div>

<div id="navline">
<a href="index.html">Torch Manual</a>&nbsp; > &nbsp; <a href="LuaManual.html">
Lua 5.1 Reference Manual</a>&nbsp; > &nbsp; <a href="LuaManual-2.html">
  The Language</a>&nbsp; > &nbsp; <a href="LuaManual-2-4.html">
  Statements</a>&nbsp; > &nbsp; <b>
  Control Structures</b>
</div>

<div id="contents">
<a name="ControlStructures"></a>

<p>

<p>

<p>

 The control structures <b>if</b>, <b>while</b>, and <b>repeat</b> have the usual meaning and familiar syntax:
<pre>
	stat ::= *while* exp *do* block *end*
	stat ::= *repeat* block *until* exp
	stat ::= *if* exp *then* block {*elseif* exp *then* block} [*else* block] *end*
</pre>
<p>

<p>

 Lua also has a <b>for</b> statement, in two flavors (see <a href="LuaManual-2-4-5.html#ForStatement">For Statement</a>).   
<p>

 The condition expression of a control structure may return any value. Both <b>false</b> and <b>nil</b> are considered false. All values different from <b>nil</b> and <b>false</b> are considered true (in particular, the number 0 and the empty string are also true).   
<p>

 In the <b>repeat*-*until</b> loop, the inner block does not end at the <b>until</b> keyword, but only after the condition. So, the condition can refer to local variables declared inside the loop block.   
<p>

 The <b>return</b> statement is used to return values from a function or a chunk (which is just a function).  Functions and chunks may return more than one value, so the syntax for the <b>return</b> statement is
<pre>
	stat ::= *return* [explist1]
</pre>
<p>

<p>

 The <b>break</b> statement is used to terminate the execution of a <b>while</b>, <b>repeat</b>, or <b>for</b> loop, skipping to the next statement after the loop:
<pre>
	stat ::= *break*
</pre>
<p>

<p>

 A <b>break</b> ends the innermost enclosing loop.   
<p>

 The <b>return</b> and <b>break</b> statements can only be written as the <i>last</i> statement of a block. If it is really necessary to <b>return</b> or <b>break</b> in the middle of a block, then an explicit inner block can be used, as in the idioms <code>do return end</code> and <code>do break end</code>, because now <b>return</b> and <b>break</b> are the last statements in their (inner) blocks.      
</div>



<div id="footer-left">&nbsp;<a href="LuaManual-2-4-3.html">
  Assignment</a></div>
<div id="footer-right"><a href="LuaManual-2-4-5.html">
  For Statement</a>&nbsp;</div>

<div id="last-modified">

</div>

</div>
</body>
</html>
